# (c) Copyright IBM Corp. 2017 All Rights Reserved
#

# This macro is called to allow inclusion of closed source counterparts.
# If running without closed sources, it expands to nothing.
# Usage: This function is called in an open makefile, with the following 
# arguments:
# $1 the name of the repo, or empty if the top-level repo.
# $2 the name of the makefile
define IncludeCustomExtension
  ifndef OPENJDK
    custom_dir := openj9/glue/make
    custom_include_file := $$(SRC_ROOT)/$$(custom_dir)/$(strip $2)
    ifneq ($$(wildcard $$(custom_include_file)), )
      include $$(custom_include_file)
    endif
  endif
endef



# OpenJ9 build flag
BUILD_OPENJ9:=@BUILD_OPENJ9@

# why?
BUILD_JAVA_FLAGS +=-Djava.lang.invoke.stringConcat=BC_SB

# required by uma
OPENJ9_PLATFORM:=@OPENJ9_PLATFORM@

# required by jpp
OPENJ9_PLATFORM_CODE:=@OPENJ9_PLATFORM_CODE@

OPENJ9BINARIES_TOPDIR:=@OPENJ9BINARIES_TOPDIR@
OPENJ9JIT_TOPDIR:=@OPENJ9JIT_TOPDIR@
OPENJ9OMR_TOPDIR:=@OPENJ9OMR_TOPDIR@
OPENJ9VM_TOPDIR:=@OPENJ9VM_TOPDIR@

